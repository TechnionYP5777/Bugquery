<?xml version="1.0" encoding="UTF-8" standalone="no"?><posts><post answer="" question="&lt;p&gt;When I run my Java program, it gives me an error on this line &lt;/p&gt;&amp;#xA;&amp;#xA;&lt;p&gt;&lt;code&gt;compiler.getTask(null, null, new DiagnosticCollector&amp;lt;JavaFileObject&amp;gt;(), null, null, compilationUnits);&lt;/code&gt; &lt;/p&gt;&amp;#xA;&amp;#xA;&lt;p&gt;Error I am getting is:&lt;/p&gt;&amp;#xA;&amp;#xA;&lt;pre&gt;&lt;code&gt;Exception in thread &quot;main&quot; java.lang.NullPointerException&amp;#xA;    at AnotherClassLoader.loadClass(test.java:58)&amp;#xA;    at test.main(test.java:30)&amp;#xA;    at Main.main(Main.java:68)&amp;#xA;&lt;/code&gt;&lt;/pre&gt;&amp;#xA;&amp;#xA;&lt;p&gt;Can you please tell me how can I solve this error?&lt;/p&gt;&amp;#xA;" stacktrace="Exception in thread &quot;main&quot; java.lang.NullPointerException&#10;    at AnotherClassLoader.loadClass(test.java:58)&#10;    at test.main(test.java:30)&#10;    at Main.main(Main.java:68)"/><post answer="" question="&lt;p&gt;Would it be useful to be able to mark objects where the value ofString.valueOf() would included in any stack trace.  In my example below I used &quot;trace&quot;. Variables that aren't declared at the point of the stack trace would just be ingored.&amp;#xA;It would make debugging much easier and make it much easier to write programs that are easy to debug.&lt;/p&gt;&amp;#xA;&amp;#xA;&lt;p&gt;Example stack trace for the code below:&lt;/p&gt;&amp;#xA;&amp;#xA;&lt;pre&gt;&lt;code&gt;java.lang.NullPointerException:&amp;#xA;    at Test.main(Test.java:7) index=0, sum=3, obj=null&amp;#xA;&amp;#xA;&amp;#xA;public class Test {&amp;#xA;  Object obj;&amp;#xA;  public void main(String[] args) trace obj {&amp;#xA;    trace int sum = 0;&amp;#xA;    for(trace int index = 0; index &amp;lt; args.length; index++) {&amp;#xA;      sum += Integer.parseInt(args[index]);&amp;#xA;      sum += obj.hashCode();//Will cause NullPointerException&amp;#xA;    }&amp;#xA;  }&amp;#xA;}&amp;#xA;&lt;/code&gt;&lt;/pre&gt;&amp;#xA;&amp;#xA;&lt;p&gt;From: &lt;a href=&quot;http://jamesjava.blogspot.com/2005/04/extra-info-in-stack-traces.html&quot; rel=&quot;nofollow&quot;&gt;http://jamesjava.blogspot.com/2005/04/extra-info-in-stack-traces.html&lt;/a&gt;&lt;/p&gt;&amp;#xA;" stacktrace="java.lang.NullPointerException:&#10;    at Test.main(Test.java:7) index=0, sum=3, obj=null"/><post answer="" question="&lt;p&gt;on Windows systems. I get the following NPE with the &lt;code&gt;FileChooser&lt;/code&gt;. It is a known bug that is not fixed by sun yet. &lt;a href=&quot;http://bugs.sun.com/bugdatabase/view_bug.do?bug_id=6342301&quot; rel=&quot;nofollow&quot;&gt;http://bugs.sun.com/bugdatabase/view_bug.do?bug_id=6342301&lt;/a&gt;&lt;/p&gt;&amp;#xA;&amp;#xA;&lt;p&gt;Does somebody know a workaround to prevent this exception?&lt;/p&gt;&amp;#xA;&amp;#xA;&lt;p&gt;Thanks.&amp;#xA;André&lt;/p&gt;&amp;#xA;&amp;#xA;&lt;blockquote&gt;&amp;#xA;  &lt;p&gt;Exception in thread &quot;AWT-EventQueue-2&quot; java.lang.NullPointerException&amp;#xA;    at&amp;#xA;  javax.swing.plaf.metal.MetalFileChooserUI$IndentIcon.getIconWidth(Unknown&amp;#xA;  Source)   at javax.swing.SwingUtilities.layoutCompoundLabelImpl(Unknown&amp;#xA;  Source)   at javax.swing.SwingUtilities.layoutCompoundLabel(Unknown&amp;#xA;  Source)   at javax.swing.plaf.basic.BasicLabelUI.layoutCL(Unknown&amp;#xA;  Source)   at&amp;#xA;  javax.swing.plaf.basic.BasicLabelUI.getPreferredSize(Unknown Source)&amp;#xA;    at javax.swing.JComponent.getPreferredSize(Unknown Source)  at&amp;#xA;  javax.swing.plaf.basic.BasicListUI.updateLayoutState(Unknown Source)&amp;#xA;    at javax.swing.plaf.basic.BasicListUI.maybeUpdateLayoutState(Unknown&amp;#xA;  Source)   at&amp;#xA;  javax.swing.plaf.basic.BasicListUI$Handler.valueChanged(Unknown&amp;#xA;  Source)   at&amp;#xA;  javax.swing.DefaultListSelectionModel.fireValueChanged(Unknown Source)&amp;#xA;    at javax.swing.DefaultListSelectionModel.fireValueChanged(Unknown&amp;#xA;  Source)   at&amp;#xA;  javax.swing.DefaultListSelectionModel.fireValueChanged(Unknown Source)&amp;#xA;    at javax.swing.DefaultListSelectionModel.changeSelection(Unknown&amp;#xA;  Source)   at&amp;#xA;  javax.swing.DefaultListSelectionModel.changeSelection(Unknown Source)&amp;#xA;    at javax.swing.DefaultListSelectionModel.setSelectionInterval(Unknown&amp;#xA;  Source)   at javax.swing.JList.setSelectedIndex(Unknown Source)   at&amp;#xA;  javax.swing.plaf.basic.BasicComboPopup.setListSelection(Unknown&amp;#xA;  Source)   at javax.swing.plaf.basic.BasicComboPopup.access$300(Unknown&amp;#xA;  Source)   at&amp;#xA;  javax.swing.plaf.basic.BasicComboPopup$Handler.itemStateChanged(Unknown&amp;#xA;  Source)   at javax.swing.JComboBox.fireItemStateChanged(Unknown Source)&amp;#xA;    at javax.swing.JComboBox.selectedItemChanged(Unknown Source)    at&amp;#xA;  javax.swing.JComboBox.contentsChanged(Unknown Source)&lt;/p&gt;&amp;#xA;&lt;/blockquote&gt;&amp;#xA;" stacktrace="Exception in thread &quot;AWT-EventQueue-2&quot; java.lang.NullPointerException&#10;    at"/><post answer="&lt;p&gt;Call &lt;code&gt;counter.start()&lt;/code&gt; inside the runnable:   &lt;/p&gt;&amp;#xA;&amp;#xA;&lt;pre&gt;&lt;code&gt;// The main method (entry point).&amp;#xA;public static void main(String[] args) {&amp;#xA;    javax.swing.SwingUtilities.invokeLater(new Runnable() {&amp;#xA;        public void run() {&amp;#xA;            showGUI();&amp;#xA;            counter.start();&amp;#xA;        }&amp;#xA;    });&amp;#xA;}&amp;#xA;&lt;/code&gt;&lt;/pre&gt;&amp;#xA;&amp;#xA;&lt;p&gt;You really want a specific order of invocation, if you place it outside the thread then the counter will start even before the GUI exists and it will fail on you.    &lt;/p&gt;&amp;#xA;&amp;#xA;&lt;p&gt;For the second question:  &lt;/p&gt;&amp;#xA;&amp;#xA;&lt;pre&gt;&lt;code&gt;// A method which updates GUI (sets a new value of JLabel).&amp;#xA;private static void updateGUI(final int i, final JLabel label) {&amp;#xA;    SwingUtilities.invokeLater(new Worker(i, label));&amp;#xA;}&amp;#xA;&lt;/code&gt;&lt;/pre&gt;&amp;#xA;&amp;#xA;&lt;p&gt;Here is the worker:  &lt;/p&gt;&amp;#xA;&amp;#xA;&lt;pre&gt;&lt;code&gt;import javax.swing.JLabel;&amp;#xA;&amp;#xA;public class Worker implements Runnable{&amp;#xA;    private int i;&amp;#xA;    private JLabel label;&amp;#xA;    public Worker(int i, JLabel label) {&amp;#xA;        this.i = i;&amp;#xA;        this.label = label;&amp;#xA;    }&amp;#xA;&amp;#xA;    public void run() {&amp;#xA;        label.setText(&quot;You have &quot; + i + &quot; seconds.&quot;);&amp;#xA;    }&amp;#xA;}&amp;#xA;&lt;/code&gt;&lt;/pre&gt;&amp;#xA;&amp;#xA;&lt;p&gt;And your main now:    &lt;/p&gt;&amp;#xA;&amp;#xA;&lt;pre&gt;&lt;code&gt;// The main method (entry point).&amp;#xA;public static void main(String[] args) {&amp;#xA;    javax.swing.SwingUtilities.invokeLater(new Runnable() {&amp;#xA;        public void run() {&amp;#xA;            Countdown.showGUI();&amp;#xA;            counter.start();&amp;#xA;        }&amp;#xA;    });&amp;#xA;}&amp;#xA;&lt;/code&gt;&lt;/pre&gt;&amp;#xA;&amp;#xA;&lt;p&gt;&lt;strong&gt;UPDATE:&lt;/strong&gt;&lt;br&gt;&amp;#xA;Or if you still want to use the anonymous pattern then:  &lt;/p&gt;&amp;#xA;&amp;#xA;&lt;pre&gt;&lt;code&gt;import javax.swing.JFrame;&amp;#xA;import javax.swing.JLabel;&amp;#xA;import javax.swing.SwingUtilities;&amp;#xA;&amp;#xA;public class Countdown {&amp;#xA;&amp;#xA;    static JLabel label;&amp;#xA;&amp;#xA;    // Method which defines the appearance of the window.   &amp;#xA;    public static void showGUI() {&amp;#xA;        JFrame frame = new JFrame(&quot;Simple Countdown&quot;);&amp;#xA;        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);&amp;#xA;        label = new JLabel(&quot;Some Text&quot;);&amp;#xA;        frame.add(label);&amp;#xA;        frame.pack();&amp;#xA;        frame.setVisible(true);&amp;#xA;    }&amp;#xA;&amp;#xA;    // Define a new thread in which the countdown is counting down.&amp;#xA;    public static Thread counter = new Thread() {&amp;#xA;        public void run() {&amp;#xA;            for (int i=10; i&amp;gt;0; i=i-1) {&amp;#xA;                updateGUI(i,label);&amp;#xA;                try {Thread.sleep(1000);} catch(InterruptedException e) {};&amp;#xA;            }&amp;#xA;        }&amp;#xA;    };&amp;#xA;&amp;#xA;    // A method which updates GUI (sets a new value of JLabel).&amp;#xA;    private static void updateGUI(final int i, final JLabel label) {&amp;#xA;        SwingUtilities.invokeLater( &amp;#xA;            new Runnable() {&amp;#xA;                public void run() {&amp;#xA;                    label.setText(&quot;You have &quot; + i + &quot; seconds.&quot;);&amp;#xA;                }&amp;#xA;            }&amp;#xA;        );&amp;#xA;    }&amp;#xA;}&amp;#xA;&lt;/code&gt;&lt;/pre&gt;&amp;#xA;" question="&lt;p&gt;I am trying to write the simples GUI countdown. I found in Internet some code but it is already too fancy for me. I am trying to keep it as simple as possible. So, I just want to have a window saying &quot;You have 10 second left&quot;. The number of second should decrease every second from 10 to 0. I wrote a code. And I think I am close to the working solution. But I still missing something. Could you pleas help me to find out what is wrong? Here is my code:&lt;/p&gt;&amp;#xA;&amp;#xA;&lt;pre&gt;&lt;code&gt;import javax.swing.*;&amp;#xA;&amp;#xA;public class Countdown {&amp;#xA;&amp;#xA;    static JLabel label;&amp;#xA;&amp;#xA;    // Method which defines the appearance of the window.   &amp;#xA;    private static void showGUI() {&amp;#xA;        JFrame frame = new JFrame(&quot;Simple Countdown&quot;);&amp;#xA;        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);&amp;#xA;        JLabel label = new JLabel(&quot;Some Text&quot;);&amp;#xA;        frame.add(label);&amp;#xA;        frame.pack();&amp;#xA;        frame.setVisible(true);&amp;#xA;    }&amp;#xA;&amp;#xA;    // Define a new thread in which the countdown is counting down.&amp;#xA;    static Thread counter = new Thread() {&amp;#xA;        public void run() {&amp;#xA;            for (int i=10; i&amp;gt;0; i=i-1) {&amp;#xA;                updateGUI(i,label);&amp;#xA;                try {Thread.sleep(1000);} catch(InterruptedException e) {};&amp;#xA;            }&amp;#xA;        }&amp;#xA;    };&amp;#xA;&amp;#xA;    // A method which updates GUI (sets a new value of JLabel).&amp;#xA;    private static void updateGUI(final int i, final JLabel label) {&amp;#xA;        SwingUtilities.invokeLater(new Runnable(i,label) {&amp;#xA;&amp;#xA;            public Runnable(int i, JLabel label) {&amp;#xA;                this.i = i;&amp;#xA;                this.label = label;&amp;#xA;            }&amp;#xA;&amp;#xA;            public void run() {&amp;#xA;                label.setText(&quot;You have &quot; + i + &quot; seconds.&quot;);&amp;#xA;            }&amp;#xA;&amp;#xA;        });&amp;#xA;    }&amp;#xA;&amp;#xA;    // The main method (entry point).&amp;#xA;    public static void main(String[] args) {&amp;#xA;        javax.swing.SwingUtilities.invokeLater(new Runnable() {&amp;#xA;            public void run() {&amp;#xA;                showGUI();&amp;#xA;                //counter.start();&amp;#xA;            }&amp;#xA;        });&amp;#xA;        //counter.start();&amp;#xA;    }&amp;#xA;&amp;#xA;}&amp;#xA;&lt;/code&gt;&lt;/pre&gt;&amp;#xA;&amp;#xA;&lt;p&gt;And I have several concrete question about this code:&lt;/p&gt;&amp;#xA;&amp;#xA;&lt;ol&gt;&amp;#xA;&lt;li&gt;&lt;p&gt;Where should I place the &lt;code&gt;counter.start();&lt;/code&gt;? (In my code I put it on 2 places. Which one is correct?)&lt;/p&gt;&lt;/li&gt;&amp;#xA;&lt;li&gt;&lt;p&gt;Why compiler complains about the constructor for Runnable? It says that I have an invalid method declaration and I need to specify the returned type.&lt;/p&gt;&lt;/li&gt;&amp;#xA;&lt;/ol&gt;&amp;#xA;&amp;#xA;&lt;p&gt;&lt;strong&gt;ADDED:&lt;/strong&gt;&amp;#xA;I made the suggested corrections. And then I execute the code and get:&lt;/p&gt;&amp;#xA;&amp;#xA;&lt;pre&gt;&lt;code&gt;Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.NullPointerException&amp;#xA;at Worker.run(Worker.java:12)&amp;#xA;&lt;/code&gt;&lt;/pre&gt;&amp;#xA;&amp;#xA;&lt;p&gt;In the Worker.java in the line 12 I have: &lt;code&gt;label.setText(&quot;You have &quot; + i + &quot; seconds.&quot;);&lt;/code&gt;.&lt;/p&gt;&amp;#xA;" stacktrace="Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.NullPointerException&#10;at Worker.run(Worker.java:12)"/><post answer="&lt;p&gt;It looks like &lt;code&gt;xCoord&lt;/code&gt; is null; try this instead:&lt;/p&gt;&amp;#xA;&amp;#xA;&lt;pre&gt;&lt;code&gt;JSlider xCoord = new JSlider();&amp;#xA;&lt;/code&gt;&lt;/pre&gt;&amp;#xA;&amp;#xA;&lt;p&gt;Addendum: Because &lt;code&gt;xCoord&lt;/code&gt; is an instance variable and it is meant to reference a &lt;code&gt;JSlider&lt;/code&gt;, &lt;a href=&quot;http://java.sun.com/docs/books/jls/third_edition/html/typesValues.html#4.12.5&quot; rel=&quot;nofollow&quot;&gt;&lt;em&gt;JLS 4.12.5 Initial Values of Variables&lt;/em&gt;&lt;/a&gt; specifies that &quot;the default value is &lt;code&gt;null&lt;/code&gt;.&quot; Trying to invoke a method on a null reference throws a &lt;code&gt;NullPointerException&lt;/code&gt;.&lt;/p&gt;&amp;#xA;" question="&lt;p&gt;I am using Swing to make a simple GUI but when I add a change listener to a JSlider, I get the following runtime error:&lt;/p&gt;&amp;#xA;&amp;#xA;&lt;pre&gt;&lt;code&gt;Exception in thread &quot;main&quot; java.lang.NullPointerException&amp;#xA;        at XMovePanel.&amp;lt;init&amp;gt;(XMovePanel.java:15)&amp;#xA;&lt;/code&gt;&lt;/pre&gt;&amp;#xA;&amp;#xA;&lt;p&gt;My code is the following:&lt;/p&gt;&amp;#xA;&amp;#xA;&lt;pre&gt;&lt;code&gt;public class XMovePanel extends JPanel&amp;#xA;{&amp;#xA;    JSlider xCoord;&amp;#xA;    private GUIApp d;&amp;#xA;    private XMoveListener xmove;&amp;#xA;&amp;#xA;    public XMovePanel(GUIApp d)&amp;#xA;    {&amp;#xA;    this.d = d;&amp;#xA;    xmove = new XMoveListener();&amp;#xA;&amp;#xA;    // Error occurs here:&amp;#xA;    xCoord.addChangeListener(xmove);&amp;#xA;&amp;#xA;        // Settings for the slider&amp;#xA;  private class XMoveListener implements ChangeListener{&amp;#xA;@Override&amp;#xA;        public void stateChanged(ChangeEvent event){&amp;#xA;&amp;#xA;        // Change listener does stuff on action here&amp;#xA;&lt;/code&gt;&lt;/pre&gt;&amp;#xA;&amp;#xA;&lt;p&gt;But I don't know why I would get an error when I add the change listener. What am I doing wrong?&lt;/p&gt;&amp;#xA;" stacktrace="Exception in thread &quot;main&quot; java.lang.NullPointerException&#10;        at XMovePanel.&amp;lt;init&amp;gt;(XMovePanel.java:15)"/><post answer="&lt;p&gt;On top of what Nicolas said - it is not enough to synchronize &lt;code&gt;issueTransfer&lt;/code&gt;, as main thread might already be in &lt;code&gt;performTransfers&lt;/code&gt; and some threads can still be stuck in &lt;code&gt;issueTransfer&lt;/code&gt;.  This means your ArrayList is still accessed by multiple threads.&lt;/p&gt;&amp;#xA;&amp;#xA;&lt;p&gt;You can create a lock object and use&lt;/p&gt;&amp;#xA;&amp;#xA;&lt;pre&gt;&lt;code&gt;synchronized (lock) {&amp;#xA;   // vulnerable code goes here&amp;#xA;}&amp;#xA;&lt;/code&gt;&lt;/pre&gt;&amp;#xA;&amp;#xA;&lt;p&gt;to protect those code snippets that can potentially be touched by multiple threads.&amp;#xA;Alternatively you can make relevant methods (&lt;code&gt;issueTransfer&lt;/code&gt; and &lt;code&gt;performTransfers&lt;/code&gt;) synchronized.&lt;/p&gt;&amp;#xA;" question="&lt;p&gt;I have following situation. I have a class for accounts, each account has a balance and money can be transfered to it.&lt;/p&gt;&amp;#xA;&amp;#xA;&lt;pre&gt;&lt;code&gt;public class Account {&amp;#xA;    private int balance;&amp;#xA;&amp;#xA;    public Account() {&amp;#xA;        this.balance = 0;&amp;#xA;    }&amp;#xA;&amp;#xA;    public void transfer(int amount) {&amp;#xA;        this.balance += amount;&amp;#xA;    }&amp;#xA;&amp;#xA;    @Override&amp;#xA;    public String toString() {&amp;#xA;        return &quot;Account (balance: &quot; + balance + &quot;)&quot;;&amp;#xA;    }&amp;#xA;}&amp;#xA;&lt;/code&gt;&lt;/pre&gt;&amp;#xA;&amp;#xA;&lt;p&gt;And I have a transfer manager. A transfer simply takes two accounts and a amount of money to be transfered. The transfer manager can issue transfers by adding it to the array list, kind of transfer queue. After all transfers are added to the queue the performTransfers method can be called which calles the performTransfer method on every transfer. &lt;/p&gt;&amp;#xA;&amp;#xA;&lt;pre&gt;&lt;code&gt;import java.util.ArrayList;&amp;#xA;&amp;#xA;public class TransferManager {&amp;#xA;    private ArrayList&amp;lt;Transfer&amp;gt; openTransfers;&amp;#xA;    private int issuedTransfers;&amp;#xA;    private int performedTransfers;&amp;#xA;&amp;#xA;    public TransferManager() {&amp;#xA;        openTransfers = new ArrayList&amp;lt;Transfer&amp;gt;();&amp;#xA;        issuedTransfers = 0;&amp;#xA;        performedTransfers = 0;&amp;#xA;    }&amp;#xA;&amp;#xA;    public void issueTransfer(Account from, Account to, int amount) {&amp;#xA;        openTransfers.add(new Transfer(from, to, amount));&amp;#xA;        issuedTransfers++;&amp;#xA;    }&amp;#xA;&amp;#xA;    public void performTransfers() {&amp;#xA;        for(Transfer transaction : openTransfers) {&amp;#xA;            transaction.performTransfer();&amp;#xA;            performedTransfers++;&amp;#xA;        }       &amp;#xA;        openTransfers.clear();&amp;#xA;    }&amp;#xA;&amp;#xA;    @Override&amp;#xA;    public String toString() {&amp;#xA;        return &quot;TransferManager (openTransfers: &quot; + openTransfers.size() + &quot;; issuedTransfers: &quot; + issuedTransfers + &quot;; performedTransfers: &quot; + performedTransfers + &quot;)&quot;;&amp;#xA;    }&amp;#xA;&amp;#xA;    private static class Transfer {&amp;#xA;        private Account from, to;&amp;#xA;        private int amount;&amp;#xA;&amp;#xA;        public Transfer(Account from, Account to, int amount) {&amp;#xA;            this.from = from;&amp;#xA;            this.to = to;&amp;#xA;            this.amount = amount;&amp;#xA;        }&amp;#xA;&amp;#xA;        public void performTransfer() {&amp;#xA;            from.transfer(-amount);&amp;#xA;            to.transfer(amount);&amp;#xA;        }&amp;#xA;    }&amp;#xA;}&amp;#xA;&lt;/code&gt;&lt;/pre&gt;&amp;#xA;&amp;#xA;&lt;p&gt;Now I add multithreading:&lt;/p&gt;&amp;#xA;&amp;#xA;&lt;pre&gt;&lt;code&gt;import java.util.Random;&amp;#xA;&amp;#xA;public class BankingTest extends Thread {&amp;#xA;    private Account[] accounts;&amp;#xA;    private static Random random = new Random();&amp;#xA;&amp;#xA;    public BankingTest(Account[] accounts) {&amp;#xA;        this.accounts = accounts;&amp;#xA;    }&amp;#xA;&amp;#xA;    public void run() {&amp;#xA;        final TransferManager manager = new TransferManager();&amp;#xA;&amp;#xA;        //simulate some transfers&amp;#xA;        for(int i = 0; i &amp;lt; accounts.length; i++) {&amp;#xA;            final int index = i;&amp;#xA;            Thread thread = new Thread() {&amp;#xA;                public void run() {&amp;#xA;                    try {&amp;#xA;                        for(int j = 0; j &amp;lt; 10; j++) {&amp;#xA;                            manager.issueTransfer(accounts[index], accounts[(index+1)%accounts.length], 100);&amp;#xA;                            Thread.sleep(random.nextInt(10));&amp;#xA;                        }&amp;#xA;                    } catch (InterruptedException e) {                      &amp;#xA;                        e.printStackTrace();&amp;#xA;                    }&amp;#xA;                }&amp;#xA;            };&amp;#xA;            thread.start();&amp;#xA;        }&amp;#xA;&amp;#xA;        //wait a bit&amp;#xA;        try {&amp;#xA;            Thread.sleep(60);&amp;#xA;        } catch (InterruptedException e) {&amp;#xA;            e.printStackTrace();&amp;#xA;        }&amp;#xA;&amp;#xA;        manager.performTransfers();&amp;#xA;&amp;#xA;        System.out.println(manager);&amp;#xA;    }&amp;#xA;}&amp;#xA;&lt;/code&gt;&lt;/pre&gt;&amp;#xA;&amp;#xA;&lt;p&gt;BankingTest takes an array of say 10 blank accounts. For now it is not synchronized and I try to understand why I get those errors:&lt;/p&gt;&amp;#xA;&amp;#xA;&lt;pre&gt;&lt;code&gt;Exception in thread &quot;Thread-2&quot; java.lang.NullPointerException&amp;#xA;at&amp;#xA;gp2.ha5.exercise2.TransferManager.performTransfers(TransferManager.java:23)&amp;#xA;at gp2.ha5.exercise2.BankingTest.run(BankingTest.java:41)&amp;#xA;&amp;#xA;and&amp;#xA;&amp;#xA;TransferManager (openTransfers: 0; issuedTransfers: 99; performedTransfers:&amp;#xA;99)&amp;#xA;&lt;/code&gt;&lt;/pre&gt;&amp;#xA;&amp;#xA;&lt;p&gt;Any idea why I get those errors and how can synchronization help here?&lt;/p&gt;&amp;#xA;&amp;#xA;&lt;p&gt;&lt;img src=&quot;http://i.stack.imgur.com/FWuto.png&quot; alt=&quot;enter image description here&quot;&gt;&lt;/p&gt;&amp;#xA;&amp;#xA;&lt;p&gt;(you can zoom in to see the details ;))&lt;/p&gt;&amp;#xA;&amp;#xA;&lt;p&gt;TransferManager: &lt;a href=&quot;http://pastebin.com/Je4ExhUz&quot; rel=&quot;nofollow&quot;&gt;http://pastebin.com/Je4ExhUz&lt;/a&gt;&lt;/p&gt;&amp;#xA;&amp;#xA;&lt;p&gt;BankTest: &lt;a href=&quot;http://pastebin.com/cdpWhHPb&quot; rel=&quot;nofollow&quot;&gt;http://pastebin.com/cdpWhHPb&lt;/a&gt;&lt;/p&gt;&amp;#xA;&amp;#xA;&lt;p&gt;Start: &lt;a href=&quot;http://pastebin.com/v7pwJ5T1&quot; rel=&quot;nofollow&quot;&gt;http://pastebin.com/v7pwJ5T1&lt;/a&gt;&lt;/p&gt;&amp;#xA;&amp;#xA;&lt;hr&gt;&amp;#xA;&amp;#xA;&lt;p&gt;After I added the synchronized to issueTransfer and performTransfers method I keep getting errors:&lt;/p&gt;&amp;#xA;&amp;#xA;&lt;p&gt;&lt;img src=&quot;http://i.stack.imgur.com/H4ai1.png&quot; alt=&quot;enter image description here&quot;&gt;&lt;/p&gt;&amp;#xA;" stacktrace="Exception in thread &quot;Thread-2&quot; java.lang.NullPointerException&#10;at"/><post answer="&lt;p&gt;Just a thought but...&lt;/p&gt;&amp;#xA;&amp;#xA;&lt;p&gt;You say you've placed applicationContext.xml in the test/resources folder - have you recreated the directory structure you define within that directory? I.e. test/resources/META-INF/spring/applicationcontext.xml? If not, then the applicationcontext will appear in test-classes/ and won't be found according to the classpath location you've defined... If it's just in test/resources, change your @ContextConfiguration annotation to&lt;/p&gt;&amp;#xA;&amp;#xA;&amp;#xA;&amp;#xA;&lt;pre class=&quot;lang-java prettyprint-override&quot;&gt;&lt;code&gt;@ContextConfiguration(locations = {&quot;classpath:applicationContext.xml&quot;})`&amp;#xA;&lt;/code&gt;&lt;/pre&gt;&amp;#xA;&amp;#xA;&lt;p&gt;`&lt;/p&gt;&amp;#xA;" question="&lt;p&gt;I have web application on spring mvc and maven.&amp;#xA;When I execute &quot;mvn clean install&quot; I got nullpointerexception from some uni-test.&amp;#xA;It's happens because one of resource is null, but why ?&lt;/p&gt;&amp;#xA;&amp;#xA;&lt;p&gt;Uni-test:&lt;/p&gt;&amp;#xA;&amp;#xA;&lt;pre&gt;&lt;code&gt;package myapp.services.impl&amp;#xA;&amp;#xA;....&amp;#xA;&amp;#xA;@RunWith(SpringJUnit4ClassRunner.class)&amp;#xA;@ContextConfiguration(locations = {&quot;classpath:META-INF/spring/applicationContext.xml&quot;})&amp;#xA;@TransactionConfiguration&amp;#xA;public class MyServiceImplTest {&amp;#xA;&amp;#xA;    @Resource&amp;#xA;    private MyService myService;&amp;#xA;&amp;#xA;    @Transactional&amp;#xA;    @Test&amp;#xA;    public void someTest() {&amp;#xA;        SomeEntity entity = new SomeEntity();&amp;#xA;        myService.createSomething(entity);  // THROW - NullPointerException, myService is NULL&amp;#xA;        ...&amp;#xA;    }&amp;#xA;}&amp;#xA;&lt;/code&gt;&lt;/pre&gt;&amp;#xA;&amp;#xA;&lt;p&gt;surefire plugin in pom.xml:&lt;/p&gt;&amp;#xA;&amp;#xA;&lt;pre&gt;&lt;code&gt;        &amp;lt;plugin&amp;gt;&amp;#xA;            &amp;lt;groupId&amp;gt;org.apache.maven.plugins&amp;lt;/groupId&amp;gt;&amp;#xA;            &amp;lt;artifactId&amp;gt;maven-surefire-plugin&amp;lt;/artifactId&amp;gt;&amp;#xA;            &amp;lt;version&amp;gt;2.4.3&amp;lt;/version&amp;gt;&amp;#xA;            &amp;lt;configuration&amp;gt;&amp;#xA;                &amp;lt;systemProperties&amp;gt;&amp;#xA;                    &amp;lt;property&amp;gt;&amp;#xA;                        &amp;lt;name&amp;gt;myapp.env&amp;lt;/name&amp;gt;&amp;#xA;                        &amp;lt;value&amp;gt;test&amp;lt;/value&amp;gt;&amp;#xA;                    &amp;lt;/property&amp;gt;&amp;#xA;                &amp;lt;/systemProperties&amp;gt;&amp;#xA;                &amp;lt;junitArtifactName&amp;gt;org.junit:com.springsource.org.junit&amp;lt;/junitArtifactName&amp;gt;&amp;#xA;            &amp;lt;/configuration&amp;gt;&amp;#xA;        &amp;lt;/plugin&amp;gt;&amp;#xA;&lt;/code&gt;&lt;/pre&gt;&amp;#xA;&amp;#xA;&lt;p&gt;And applicationContext.xml:&lt;/p&gt;&amp;#xA;&amp;#xA;&lt;pre&gt;&lt;code&gt;...&amp;#xA;&amp;lt;context:component-scan base-package=&quot;myapp.services,myapp.services.impl&quot;/&amp;gt;&amp;#xA;&amp;#xA;&amp;lt;context:property-placeholder location=&quot;classpath*:META-INF/spring/common_${myapp.env}.properties&quot;&amp;#xA;                              system-properties-mode=&quot;OVERRIDE&quot;&amp;#xA;                              ignore-resource-not-found=&quot;true&quot;/&amp;gt;&amp;#xA;....&amp;#xA;&lt;/code&gt;&lt;/pre&gt;&amp;#xA;&amp;#xA;&lt;p&gt;PS: When I execute this test in eclipse Run as JUnit Test - execute is fine without exception&lt;/p&gt;&amp;#xA;&amp;#xA;&lt;p&gt;Stack-trace after surefire report:&lt;/p&gt;&amp;#xA;&amp;#xA;&lt;hr&gt;&amp;#xA;&amp;#xA;&lt;h2&gt;Test set: myapp.services.impl.MyServiceImplTest&lt;/h2&gt;&amp;#xA;&amp;#xA;&lt;p&gt;Tests run: 1, Failures: 1, Errors: 0, Skipped: 0, Time elapsed: 1.115 sec &amp;lt;&amp;lt;&amp;lt; FAILURE!&amp;#xA;myapp.services.impl.MyServiceImplTest.someTest()  Time elapsed: 1.068 sec  &amp;lt;&amp;lt;&amp;lt; FAILURE!&amp;#xA;java.lang.NullPointerException&amp;#xA;    at myapp.services.impl.MyServiceImplTest.someTest(MyServiceImplTest.java:42)&lt;/p&gt;&amp;#xA;&amp;#xA;&lt;p&gt;MAVEN OUTPUT:&lt;/p&gt;&amp;#xA;&amp;#xA;&lt;pre&gt;&lt;code&gt;...&amp;#xA;[INFO] --- maven-surefire-plugin:2.4.3:test (default-test) @ mywebapp ---&amp;#xA;[INFO] Surefire report directory: /home/xxx/Work/mywebapp/target/surefire-reports&amp;#xA;&amp;#xA;-------------------------------------------------------&amp;#xA; T E S T S&amp;#xA;-------------------------------------------------------&amp;#xA;Running myapp.services.impl.MyServiceImplTest&amp;#xA;log4j:WARN No such property [maxFileSize] in org.apache.log4j.DailyRollingFileAppender.&amp;#xA;log4j:WARN No such property [maxBackupIndex] in     org.apache.log4j.DailyRollingFileAppender.&amp;#xA;Tests run: 1, Failures: 1, Errors: 0, Skipped: 0, Time elapsed: 0.919 sec &amp;lt;&amp;lt;&amp;lt; FAILURE!&amp;#xA;&amp;#xA;&amp;#xA;Results :&amp;#xA;&amp;#xA;Failed tests: &amp;#xA;  myapp.services.impl.MyServiceImplTest.someTest()&amp;#xA;&amp;#xA;Tests run: 1, Failures: 1, Errors: 0, Skipped: 0&amp;#xA;&amp;#xA;[INFO] ------------------------------------------------------------------------&amp;#xA;[INFO] BUILD FAILURE&amp;#xA;[INFO] ------------------------------------------------------------------------&amp;#xA;[INFO] Total time: 41.465s&amp;#xA;[INFO] Finished at: Mon May 09 00:05:06 MSD 2011&amp;#xA;[INFO] Final Memory: 26M/70M&amp;#xA;...&amp;#xA;&lt;/code&gt;&lt;/pre&gt;&amp;#xA;" stacktrace="java.lang.NullPointerException&#10;    at myapp.services.impl.MyServiceImplTest.someTest(MyServiceImplTest.java:42)"/><post answer="" question="&lt;pre&gt;&lt;code&gt;if( currentTimeslot.isEmpty()){&amp;#xA;         System.out.println(&quot;Do stuff&quot;);&amp;#xA;            }&amp;#xA;&lt;/code&gt;&lt;/pre&gt;&amp;#xA;&amp;#xA;&lt;p&gt;How come I get a &lt;code&gt;NullPointerException&lt;/code&gt;? How do I check whether a string is &lt;code&gt;NULL&lt;/code&gt; and do stuff if it is? Whenever &lt;code&gt;currentTimeslot&lt;/code&gt; is equals to &lt;code&gt;NULL&lt;/code&gt; I get the error. Here is the console message:&lt;/p&gt;&amp;#xA;&amp;#xA;&lt;pre&gt;&lt;code&gt;Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.NullPointerException&amp;#xA;at PM.ui.MainFrame.getJPanelTopMenu(MainFrame.java:382)&amp;#xA;&lt;/code&gt;&lt;/pre&gt;&amp;#xA;" stacktrace="Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.NullPointerException&#10;at PM.ui.MainFrame.getJPanelTopMenu(MainFrame.java:382)"/><post answer="" question="&lt;p&gt;I'm trying to deploy a small Lift webapp to a Jetty container but I get several exceptions. I pasted a small excerpt of the stack trace below. I can provide the full stack trace if needed. I goggled all three problems but I couldn't find anything useful to solve it.&lt;/p&gt;&amp;#xA;&amp;#xA;&lt;p&gt;I created my app.war file in sbt with the package command and just dropped the web archive inside Jetty webapps folder.&lt;/p&gt;&amp;#xA;&amp;#xA;&lt;p&gt;~$ whereis jetty8&amp;#xA;jetty8: /etc/jetty8 /usr/share/jetty8 &lt;/p&gt;&amp;#xA;&amp;#xA;&lt;pre&gt;&lt;code&gt;~$ ls -al /usr/share/jetty8/&amp;#xA;total 16&amp;#xA;drwxr-xr-x   4 root root 4096 Feb 28 13:25 .&amp;#xA;drwxr-xr-x 107 root root 4096 Feb 28 16:12 ..&amp;#xA;lrwxrwxrwx   1 root root   20 Jul 30  2013 contexts -&amp;gt; /etc/jetty8/contexts&amp;#xA;lrwxrwxrwx   1 root root   11 Jul 30  2013 etc -&amp;gt; /etc/jetty8&amp;#xA;lrwxrwxrwx   1 root root   25 Jul 30  2013 javadoc -&amp;gt; ../doc/libjetty8-java/api&amp;#xA;drwxr-xr-x   3 root root 4096 Feb 28 13:25 lib&amp;#xA;lrwxrwxrwx   1 root root   15 Jul 30  2013 logs -&amp;gt; /var/log/jetty8&amp;#xA;drwxr-xr-x   2 root root 4096 Feb 28 13:25 resources&amp;#xA;lrwxrwxrwx   1 root root   40 Jul 30  2013 start.jar -&amp;gt; ../java/jetty8-start-8.1.3.v20120416.jar&amp;#xA;lrwxrwxrwx   1 root root   23 Jul 30  2013 webapps -&amp;gt; /var/lib/jetty8/webapps&amp;#xA;&lt;/code&gt;&lt;/pre&gt;&amp;#xA;&amp;#xA;&lt;p&gt;I'm using Scala 2.10.3, Lift 2.6-M2, SBT 0.13.1, Jetty 8.1.3.v20120416 and Java 8 on Linaro Ubuntu Server 13.10.&lt;/p&gt;&amp;#xA;&amp;#xA;&lt;p&gt;Stacktrace[excerpt]:&lt;/p&gt;&amp;#xA;&amp;#xA;&lt;pre&gt;&lt;code&gt;ERROR in ch.qos.logback.core.FileAppender[FILE] - openFile(console.devmode.log,true) call failed. java.io.FileNotFoundException: console.devmode.log (Permission denied)&amp;#xA;at java.io.FileNotFoundException: console.devmode.log (Permission denied)&amp;#xA;at  at java.io.FileOutputStream.open(Native Method)&amp;#xA;&amp;#xA;ERROR net.liftweb.db.StandardDBVendor - Unable to get database connection. url=jdbc:h2:lift_proto.db;AUTO_SERVER=TRUE&amp;#xA;org.h2.jdbc.JdbcSQLException: IO Exception: &quot;java.io.FileNotFoundException: /usr/share/jetty8/lift_proto.db.lock.db (Permission denied)&quot;; &quot;/usr/share/jetty8/lift_proto.db.lock.db&quot; [90031-167]&amp;#xA;at org.h2.message.DbException.getJdbcSQLException(DbException.java:329) ~[h2-1.3.167.jar:1.3.167]&amp;#xA;at org.h2.message.DbException.get(DbException.java:158) ~[h2-1.3.167.jar:1.3.167]&amp;#xA;&amp;#xA;ERROR n.liftweb.http.provider.HTTPProvider - Failed to Boot! Your application may not run properly&amp;#xA;java.lang.NullPointerException: Looking for Connection Identifier ConnectionIdentifier(lift) but failed to find either a JNDI data source with the name lift or a lift connection manager with the correct name&amp;#xA;at net.liftweb.db.DB$$anonfun$newConnection$2.apply(DB.scala:190) ~[lift-db_2.10-2.6-M2.jar:2.6-M2]&amp;#xA;&lt;/code&gt;&lt;/pre&gt;&amp;#xA;" stacktrace="java.lang.NullPointerException: Looking for Connection Identifier ConnectionIdentifier(lift) but failed to find either a JNDI data source with the name lift or a lift connection manager with the correct name&#10;at net.liftweb.db.DB$$anonfun$newConnection$2.apply(DB.scala:190) ~[lift-db_2.10-2.6-M2.jar:2.6-M2]"/><post answer="" question="&lt;p&gt;I am trying to use selection sort to sort shoes in the array based on the shoeId. The sort is in ascending order. I am wring selection sort recursive way. The one problem I am facing is in sortShoesRecurse method. IT looks like it doesn't like that compareTo method I am using there but I shoed use compareTo method.&lt;/p&gt;&amp;#xA;&amp;#xA;&lt;pre&gt;&lt;code&gt;&amp;lt;pre&amp;gt; &amp;lt;code&amp;gt;&amp;#xA;if(sc.compare(sh[indexWithMinValue], sh[forwardIndex]) &amp;gt; 0)&amp;#xA;&amp;lt;/pre&amp;gt; &amp;lt;/code&amp;gt;&amp;#xA;&lt;/code&gt;&lt;/pre&gt;&amp;#xA;&amp;#xA;&lt;p&gt;when I run the program I receive this error:&lt;/p&gt;&amp;#xA;&amp;#xA;&lt;pre&gt;&lt;code&gt;&amp;lt;pre&amp;gt; &amp;lt;code&amp;gt;&amp;#xA;&amp;#xA;java.lang.NullPointerException&amp;#xA;at shoepkg.ShoeComparator.compare(ShoeComparator.java:8) &amp;#xA;    //line 8 in the code&amp;#xA;    // if (obj1.getId() == obj2.getId())&amp;#xA;&amp;#xA;    at shoepkg.ShoeProcessor.sortShoesRecurse(ShoeProcessor.java:43)&amp;#xA;    //if(sc.compare(sh[indexWithMinValue], sh[forwardIndex]) &amp;gt; 0) &amp;#xA;&amp;#xA;at shoetestpkg.TestShoe.main(Shoe.java:28)&amp;#xA;    //bp.sortShoesRecurse(0);&amp;#xA;&amp;#xA;  &amp;lt;/pre&amp;gt; &amp;lt;/code&amp;gt;&amp;#xA;&amp;#xA;&amp;#xA;&amp;#xA;&amp;#xA;&amp;lt;pre&amp;gt; &amp;lt;code&amp;gt;&amp;#xA;&amp;#xA;    public class TestShoe {&amp;#xA;&amp;#xA;&amp;#xA;    public static void main(String[] args) {&amp;#xA;&amp;#xA;    ShoeProcessor s = new Shoe();&amp;#xA;    Shoe s1 = new Shoe(7, &quot;Black&quot;);&amp;#xA;    Shoe s2 = new Shoe(10, &quot;Red&quot;);&amp;#xA;&amp;#xA;    try {&amp;#xA;        s.addShoe(s1);&amp;#xA;                    s.addShoe(s2);&amp;#xA;&amp;#xA;    }catch(ShoeException bex){&amp;#xA;        System.out.println(&quot;Shoe Exception:  &quot;  + bex);&amp;#xA;    }&amp;#xA;&amp;#xA;&amp;#xA;    }&amp;#xA;    }&amp;#xA;&amp;#xA;    public class ShoeProcessor&amp;#xA;    {&amp;#xA;    private Shoe [] sh;&amp;#xA;    private int numShoes=0;&amp;#xA;    private ShoeComparator&amp;lt;Shoe&amp;gt; sc;&amp;#xA;&amp;#xA;    public ShoeProcessor()&amp;#xA;    {&amp;#xA;    sh = new Shoe [10];&amp;#xA;    sc=new ShoeComparator&amp;lt;Shoe&amp;gt;();&amp;#xA;    }&amp;#xA;&amp;#xA;&amp;#xA;    public void addShoe(Shoe s) throws ShoeException&amp;#xA;   {&amp;#xA;    if(s.getId() &amp;lt; 0) {&amp;#xA;        throw new ShoeException(s);&amp;#xA;    }&amp;#xA;    else {&amp;#xA;        if(numShoes&amp;lt;10){&amp;#xA;            sh[numShoes]=s;&amp;#xA;            numShoes++;&amp;#xA;        }&amp;#xA;    }&amp;#xA;    }&amp;#xA;&amp;#xA;    public void sortShoesRecurse(int startIndex)&amp;#xA;    {&amp;#xA;        if ( startIndex &amp;gt;= sh.length - 1 ) {&amp;#xA;            return;&amp;#xA;        }&amp;#xA;&amp;#xA;        int indexWithMinValue=startIndex;&amp;#xA;&amp;#xA;&amp;#xA;        for(int forwardIndex=startIndex+1; forwardIndex&amp;lt;sh.length;forwardIndex++) {&amp;#xA;            if(sc.compare(sh[indexWithMinValue], sh[forwardIndex]) &amp;gt; 0) {&amp;#xA;                indexWithMinValue = forwardIndex;&amp;#xA;            }&amp;#xA;        }   &amp;#xA;        Shoe temp= sh[startIndex];&amp;#xA;        sh[startIndex]=sh[indexWithMinValue];&amp;#xA;        sh[indexWithMinValue]= temp;&amp;#xA;&amp;#xA;        sortShoesRecurse(startIndex+1);&amp;#xA;    } &amp;#xA;&amp;#xA;    public Book[] getBooks() {&amp;#xA;        return books;&amp;#xA;    }&amp;#xA;    }&amp;#xA;&amp;#xA;    package shoepkg;&amp;#xA;&amp;#xA;    public class ShoeComparator&amp;lt;T extends Shoe&amp;gt;&amp;#xA;    {&amp;#xA;&amp;#xA;    public int compare(T obj1, T obj2)&amp;#xA;    {&amp;#xA;            if (obj1.getId()== obj2.getId())&amp;#xA;            {&amp;#xA;                return 0;&amp;#xA;            }&amp;#xA;            if (obj1.getId() &amp;gt; obj2.getId())&amp;#xA;            {&amp;#xA;            return 1;&amp;#xA;            }&amp;#xA;            else if  (obj1.getId() &amp;lt; obj2.getId())&amp;#xA;            {&amp;#xA;                return -1;&amp;#xA;            }&amp;#xA;            return 0;&amp;#xA;    }&amp;#xA;   }&amp;#xA;&amp;#xA;&amp;lt;/pre&amp;gt; &amp;lt;/code&amp;gt;&amp;#xA;&lt;/code&gt;&lt;/pre&gt;&amp;#xA;&amp;#xA;&lt;p&gt;I made some updates to the code after some advices and it is current code. Still get some errors which also were updated on the top. Thank you for your help.&lt;/p&gt;&amp;#xA;&amp;#xA;&lt;p&gt;I do have to compare objects based on the Id. &lt;/p&gt;&amp;#xA;" stacktrace="java.lang.NullPointerException&#10;at shoepkg.ShoeComparator.compare(ShoeComparator.java:8)"/></posts>